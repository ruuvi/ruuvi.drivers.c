<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ruuvi.drivers.c: src/interfaces/communication/ruuvi_interface_communication_ble_advertising.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ruuvi.drivers.c<span id="projectnumber">&#160;${PROJECT_VERSION}</span>
   </div>
   <div id="projectbrief">Drivers for external sensors and peripherals on embedded systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ruuvi__interface__communication__ble__advertising_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ruuvi_interface_communication_ble_advertising.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ruuvi__driver__enabled__modules_8h_source.html">ruuvi_driver_enabled_modules.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ruuvi__driver__error_8h_source.html">ruuvi_driver_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ruuvi__interface__communication_8h_source.html">ruuvi_interface_communication.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ruuvi__interface__communication__radio_8h_source.html">ruuvi_interface_communication_radio.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="ruuvi__interface__communication__ble__advertising_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structri__adv__scan__t.html">ri_adv_scan_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6c1d68bf1da528be2257d6fbd0adcf26" id="r_a6c1d68bf1da528be2257d6fbd0adcf26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a6c1d68bf1da528be2257d6fbd0adcf26">RUUVI_COMM_BLE_ADV_MAX_LENGTH</a>&#160;&#160;&#160;(<a class="el" href="ruuvi__interface__communication_8h.html#a6f46ba19db6d3bb26664fd7f6bfd71bb">RI_COMM_BLE_PAYLOAD_MAX_LENGTH</a>)</td></tr>
<tr class="separator:a6c1d68bf1da528be2257d6fbd0adcf26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adedc64f5703ccd500065714ce69632b3" id="r_adedc64f5703ccd500065714ce69632b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#adedc64f5703ccd500065714ce69632b3">RUUVI_COMM_BLE_ADV_SCAN_LENGTH</a>&#160;&#160;&#160;(<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a6c1d68bf1da528be2257d6fbd0adcf26">RUUVI_COMM_BLE_ADV_MAX_LENGTH</a>)</td></tr>
<tr class="separator:adedc64f5703ccd500065714ce69632b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fbaeb45a2c1d548d8b3d589f3f0783" id="r_ae6fbaeb45a2c1d548d8b3d589f3f0783"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ae6fbaeb45a2c1d548d8b3d589f3f0783">RUUVI_COMM_BLE_ADV_SCAN_BUFFER</a>&#160;&#160;&#160;(<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a6c1d68bf1da528be2257d6fbd0adcf26">RUUVI_COMM_BLE_ADV_MAX_LENGTH</a>)</td></tr>
<tr class="separator:ae6fbaeb45a2c1d548d8b3d589f3f0783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae6254c9688c12ff48a816ebcfab979" id="r_aeae6254c9688c12ff48a816ebcfab979"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aeae6254c9688c12ff48a816ebcfab979">BLE_MAC_ADDRESS_LENGTH</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:aeae6254c9688c12ff48a816ebcfab979"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4fbdf36956c60ee49c29631c2d3df5df" id="r_a4fbdf36956c60ee49c29631c2d3df5df"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a> { <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfaad6479d9fb04166a26e11755d4f5a67e">NONCONNECTABLE_NONSCANNABLE</a>
, <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfa927df6c5aec5d8f8e31edb85009ab414">CONNECTABLE_NONSCANNABLE</a>
, <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfadb9801fa198d569fe987d3639cccc51f">CONNECTABLE_SCANNABLE</a>
, <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfa6cb255b6465d01888eff91881d20563e">NONCONNECTABLE_SCANNABLE</a>
 }</td></tr>
<tr class="memdesc:a4fbdf36956c60ee49c29631c2d3df5df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allowed advertisement types.  <a href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">More...</a><br /></td></tr>
<tr class="separator:a4fbdf36956c60ee49c29631c2d3df5df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9503639d800dfd77d98fd2d68246bdd8" id="r_a9503639d800dfd77d98fd2d68246bdd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a9503639d800dfd77d98fd2d68246bdd8">ri_adv_init</a> (<a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const channel)</td></tr>
<tr class="memdesc:a9503639d800dfd77d98fd2d68246bdd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Advertising module and scanning module.  <br /></td></tr>
<tr class="separator:a9503639d800dfd77d98fd2d68246bdd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbd2339c2236ffcedf6536b1d35d824" id="r_aebbd2339c2236ffcedf6536b1d35d824"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aebbd2339c2236ffcedf6536b1d35d824">ri_adv_rx_ble_phy_enabled_set</a> (const bool is_le_1m_phy_enabled, const bool is_le_2m_phy_enabled, const bool is_le_coded_phy_enabled)</td></tr>
<tr class="memdesc:aebbd2339c2236ffcedf6536b1d35d824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set BLE PHYs enabled or disabled for scanning.  <br /></td></tr>
<tr class="separator:aebbd2339c2236ffcedf6536b1d35d824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826533ac511aa63065441608af738c24" id="r_a826533ac511aa63065441608af738c24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a826533ac511aa63065441608af738c24">ri_adv_rx_set_max_advertisement_data_length</a> (const uint8_t max_adv_length)</td></tr>
<tr class="memdesc:a826533ac511aa63065441608af738c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum advertisement data length. This is used to limit the size of extended advertisement data.  <br /></td></tr>
<tr class="separator:a826533ac511aa63065441608af738c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad151b93560ab505cc6f9387ea0c729ee" id="r_ad151b93560ab505cc6f9387ea0c729ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ad151b93560ab505cc6f9387ea0c729ee">ri_adv_uninit</a> (<a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const channel)</td></tr>
<tr class="separator:ad151b93560ab505cc6f9387ea0c729ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad840b509c98da4df1bbd60839377d4e0" id="r_ad840b509c98da4df1bbd60839377d4e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ad840b509c98da4df1bbd60839377d4e0">ri_adv_tx_interval_set</a> (const uint32_t ms)</td></tr>
<tr class="separator:ad840b509c98da4df1bbd60839377d4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad984ccc177df02949f5af1c5ffd4b05" id="r_aad984ccc177df02949f5af1c5ffd4b05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aad984ccc177df02949f5af1c5ffd4b05">ri_adv_tx_interval_get</a> (uint32_t *ms)</td></tr>
<tr class="memdesc:aad984ccc177df02949f5af1c5ffd4b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for broadcast advertisement interval.  <br /></td></tr>
<tr class="separator:aad984ccc177df02949f5af1c5ffd4b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9053fcf126e5247c8542db1f414a7bbe" id="r_a9053fcf126e5247c8542db1f414a7bbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a9053fcf126e5247c8542db1f414a7bbe">ri_adv_manufacturer_id_set</a> (const uint16_t id)</td></tr>
<tr class="memdesc:a9053fcf126e5247c8542db1f414a7bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set manufacturer ID of manufacturer specific advertisement.  <br /></td></tr>
<tr class="separator:a9053fcf126e5247c8542db1f414a7bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c77217c718702265eef78a0b564d89f" id="r_a0c77217c718702265eef78a0b564d89f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a0c77217c718702265eef78a0b564d89f">ri_adv_channels_set</a> (const <a class="el" href="structri__radio__channels__t.html">ri_radio_channels_t</a> channels)</td></tr>
<tr class="memdesc:a0c77217c718702265eef78a0b564d89f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set channels to use on radio. This has effect only on BLE advertising.  <br /></td></tr>
<tr class="separator:a0c77217c718702265eef78a0b564d89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb60940b2398aedeec2a2d0ea8463677" id="r_adb60940b2398aedeec2a2d0ea8463677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#adb60940b2398aedeec2a2d0ea8463677">ri_adv_tx_power_set</a> (int8_t *dbm)</td></tr>
<tr class="memdesc:adb60940b2398aedeec2a2d0ea8463677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set radio TX power.  <br /></td></tr>
<tr class="separator:adb60940b2398aedeec2a2d0ea8463677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcea6cf666726dad06a67e9ddfd2aca" id="r_a8dcea6cf666726dad06a67e9ddfd2aca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a8dcea6cf666726dad06a67e9ddfd2aca">ri_adv_tx_power_get</a> (int8_t *dbm)</td></tr>
<tr class="memdesc:a8dcea6cf666726dad06a67e9ddfd2aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get radio TX power.  <br /></td></tr>
<tr class="separator:a8dcea6cf666726dad06a67e9ddfd2aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97803f04f00d968446a25338c78e5308" id="r_a97803f04f00d968446a25338c78e5308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a97803f04f00d968446a25338c78e5308">ri_adv_scan_response_setup</a> (const char *const name, const bool advertise_nus)</td></tr>
<tr class="memdesc:a97803f04f00d968446a25338c78e5308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure advertising data with a scan response.  <br /></td></tr>
<tr class="separator:a97803f04f00d968446a25338c78e5308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3376345d0dd8981cd9b415d675f51d1" id="r_ad3376345d0dd8981cd9b415d675f51d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ad3376345d0dd8981cd9b415d675f51d1">ri_adv_type_set</a> (<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a> type)</td></tr>
<tr class="memdesc:ad3376345d0dd8981cd9b415d675f51d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the type of advertisement.  <br /></td></tr>
<tr class="separator:ad3376345d0dd8981cd9b415d675f51d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc90c62e5b7ceacbd4f116d191924bd" id="r_aafc90c62e5b7ceacbd4f116d191924bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aafc90c62e5b7ceacbd4f116d191924bd">ri_adv_stop</a> (void)</td></tr>
<tr class="memdesc:aafc90c62e5b7ceacbd4f116d191924bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ongoing advertisements.  <br /></td></tr>
<tr class="separator:aafc90c62e5b7ceacbd4f116d191924bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f88bcd2ef238f1e2556fb91a36b5303" id="r_a1f88bcd2ef238f1e2556fb91a36b5303"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a1f88bcd2ef238f1e2556fb91a36b5303">ri_adv_scan_start</a> (const uint32_t window_interval_ms, const uint32_t window_size_ms)</td></tr>
<tr class="memdesc:a1f88bcd2ef238f1e2556fb91a36b5303"><td class="mdescLeft">&#160;</td><td class="mdescRight">setup scan window interval and window size.  <br /></td></tr>
<tr class="separator:a1f88bcd2ef238f1e2556fb91a36b5303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac644966a1bd24a0ee17c2583187e25" id="r_aeac644966a1bd24a0ee17c2583187e25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aeac644966a1bd24a0ee17c2583187e25">ri_adv_scan_stop</a> (void)</td></tr>
<tr class="memdesc:aeac644966a1bd24a0ee17c2583187e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ongoing scanning.  <br /></td></tr>
<tr class="separator:aeac644966a1bd24a0ee17c2583187e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1d5f6a3d12c4f5051afb23872c8794" id="r_aaa1d5f6a3d12c4f5051afb23872c8794"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aaa1d5f6a3d12c4f5051afb23872c8794">ri_adv_channels_enable</a> (const <a class="el" href="structri__radio__channels__t.html">ri_radio_channels_t</a> channel)</td></tr>
<tr class="memdesc:aaa1d5f6a3d12c4f5051afb23872c8794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select active channels.  <br /></td></tr>
<tr class="separator:aaa1d5f6a3d12c4f5051afb23872c8794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03638010143c5f2e885d9e026ea14d3a" id="r_a03638010143c5f2e885d9e026ea14d3a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a03638010143c5f2e885d9e026ea14d3a">ri_adv_parse_manuid</a> (uint8_t *const data, const size_t data_length)</td></tr>
<tr class="memdesc:a03638010143c5f2e885d9e026ea14d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse Manufacturer ID from given Bluetooth scan data.  <br /></td></tr>
<tr class="separator:a03638010143c5f2e885d9e026ea14d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae555741810745a894d9d8ddafb1dd0dd" id="r_ae555741810745a894d9d8ddafb1dd0dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ae555741810745a894d9d8ddafb1dd0dd">ri_adv_enable_uuid</a> (const bool enable_uuid)</td></tr>
<tr class="memdesc:ae555741810745a894d9d8ddafb1dd0dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true to enable advertising 16-bit service UUID in primary advertisement packet.  <br /></td></tr>
<tr class="separator:ae555741810745a894d9d8ddafb1dd0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3d2950541ff894fc4fb0e69fee1f65" id="r_aad3d2950541ff894fc4fb0e69fee1f65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aad3d2950541ff894fc4fb0e69fee1f65">ri_adv_set_service_uuid</a> (const uint16_t uuid)</td></tr>
<tr class="memdesc:aad3d2950541ff894fc4fb0e69fee1f65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure Bluetooth GATT Service UUID to advertise in primary advertisement packet.  <br /></td></tr>
<tr class="separator:aad3d2950541ff894fc4fb0e69fee1f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Otso Jousimaa <a href="#" onclick="location.href='mai'+'lto:'+'ots'+'o@'+'ojo'+'us'+'ima'+'.n'+'et'; return false;">otso@<span class="obfuscator">.nosp@m.</span>ojou<span class="obfuscator">.nosp@m.</span>sima.<span class="obfuscator">.nosp@m.</span>net</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-03-26 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Ruuvi Innovations Ltd, license BSD-3-Clause.</dd></dl>
<p>Common definitions and functions for all BLE advertising. </p>

<p class="definition">Definition in file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aeae6254c9688c12ff48a816ebcfab979" name="aeae6254c9688c12ff48a816ebcfab979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae6254c9688c12ff48a816ebcfab979">&#9670;&#160;</a></span>BLE_MAC_ADDRESS_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_MAC_ADDRESS_LENGTH&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00029">29</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<a id="a6c1d68bf1da528be2257d6fbd0adcf26" name="a6c1d68bf1da528be2257d6fbd0adcf26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1d68bf1da528be2257d6fbd0adcf26">&#9670;&#160;</a></span>RUUVI_COMM_BLE_ADV_MAX_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUUVI_COMM_BLE_ADV_MAX_LENGTH&#160;&#160;&#160;(<a class="el" href="ruuvi__interface__communication_8h.html#a6f46ba19db6d3bb26664fd7f6bfd71bb">RI_COMM_BLE_PAYLOAD_MAX_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00024">24</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<a id="ae6fbaeb45a2c1d548d8b3d589f3f0783" name="ae6fbaeb45a2c1d548d8b3d589f3f0783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6fbaeb45a2c1d548d8b3d589f3f0783">&#9670;&#160;</a></span>RUUVI_COMM_BLE_ADV_SCAN_BUFFER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUUVI_COMM_BLE_ADV_SCAN_BUFFER&#160;&#160;&#160;(<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a6c1d68bf1da528be2257d6fbd0adcf26">RUUVI_COMM_BLE_ADV_MAX_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00026">26</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<a id="adedc64f5703ccd500065714ce69632b3" name="adedc64f5703ccd500065714ce69632b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adedc64f5703ccd500065714ce69632b3">&#9670;&#160;</a></span>RUUVI_COMM_BLE_ADV_SCAN_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUUVI_COMM_BLE_ADV_SCAN_LENGTH&#160;&#160;&#160;(<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a6c1d68bf1da528be2257d6fbd0adcf26">RUUVI_COMM_BLE_ADV_MAX_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00025">25</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a4fbdf36956c60ee49c29631c2d3df5df" name="a4fbdf36956c60ee49c29631c2d3df5df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fbdf36956c60ee49c29631c2d3df5df">&#9670;&#160;</a></span>ri_adv_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allowed advertisement types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4fbdf36956c60ee49c29631c2d3df5dfaad6479d9fb04166a26e11755d4f5a67e" name="a4fbdf36956c60ee49c29631c2d3df5dfaad6479d9fb04166a26e11755d4f5a67e"></a>NONCONNECTABLE_NONSCANNABLE&#160;</td><td class="fielddoc"><p>Nonconnectable, nonscannable. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4fbdf36956c60ee49c29631c2d3df5dfa927df6c5aec5d8f8e31edb85009ab414" name="a4fbdf36956c60ee49c29631c2d3df5dfa927df6c5aec5d8f8e31edb85009ab414"></a>CONNECTABLE_NONSCANNABLE&#160;</td><td class="fielddoc"><p>Connectable, nonscannable. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4fbdf36956c60ee49c29631c2d3df5dfadb9801fa198d569fe987d3639cccc51f" name="a4fbdf36956c60ee49c29631c2d3df5dfadb9801fa198d569fe987d3639cccc51f"></a>CONNECTABLE_SCANNABLE&#160;</td><td class="fielddoc"><p>Connectable, scannable. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4fbdf36956c60ee49c29631c2d3df5dfa6cb255b6465d01888eff91881d20563e" name="a4fbdf36956c60ee49c29631c2d3df5dfa6cb255b6465d01888eff91881d20563e"></a>NONCONNECTABLE_SCANNABLE&#160;</td><td class="fielddoc"><p>Nonconnectable, scannable. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00032">32</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaa1d5f6a3d12c4f5051afb23872c8794" name="aaa1d5f6a3d12c4f5051afb23872c8794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1d5f6a3d12c4f5051afb23872c8794">&#9670;&#160;</a></span>ri_adv_channels_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_channels_enable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structri__radio__channels__t.html">ri_radio_channels_t</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select active channels. </p>
<p>If advertisement was configured on repeat, calling this function has no effect to advertisements on send queue.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>if no more advertisements are ongoing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c77217c718702265eef78a0b564d89f" name="a0c77217c718702265eef78a0b564d89f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c77217c718702265eef78a0b564d89f">&#9670;&#160;</a></span>ri_adv_channels_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_channels_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structri__radio__channels__t.html">ri_radio_channels_t</a>&#160;</td>
          <td class="paramname"><em>channels</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set channels to use on radio. This has effect only on BLE advertising. </p>
<p>The function call will not modify already queued advertisements, it will take effect on advertisements queued after this call has finished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channels</td><td>Channels to advertise on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae555741810745a894d9d8ddafb1dd0dd" name="ae555741810745a894d9d8ddafb1dd0dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae555741810745a894d9d8ddafb1dd0dd">&#9670;&#160;</a></span>ri_adv_enable_uuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ri_adv_enable_uuid </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>enable_uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set to true to enable advertising 16-bit service UUID in primary advertisement packet. </p>
<p>Bluetooth Service UUID lets scanner apps note that your firmware is providing a specific service over BLE GATT. Be sure to configure <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aad3d2950541ff894fc4fb0e69fee1f65">ri_adv_set_service_uuid</a>, otherwise your program violates Bluetooth license terms. You must have the license to use the configured UUID.</p>
<p>When enabled, the field takes 3 bytes of space in advertisement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable_uuid</td><td>true to enable Service UUID advertisement, false to disable. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9503639d800dfd77d98fd2d68246bdd8" name="a9503639d800dfd77d98fd2d68246bdd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9503639d800dfd77d98fd2d68246bdd8">&#9670;&#160;</a></span>ri_adv_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Advertising module and scanning module. </p>
<p>Initially channels 37, 38 and 39 are enabled. Modulation is decided by radio initialization. If <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869aec92aafa11d414da0751cdc2d40dad7e">RI_RADIO_BLE_125KBPS</a> or <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869a2b5147f448dc45d8e789912445d9713b">RI_RADIO_BLE_1MBPS</a> is set, primary phy is the configured one and no secondary PHY is used. If modulation is <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869aa68b3680791e86e47836f20d6fab3e72">RI_RADIO_BLE_2MBPS</a> primary PHY is <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869a2b5147f448dc45d8e789912445d9713b">RI_RADIO_BLE_1MBPS</a> and secondary PHY is <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869aa68b3680791e86e47836f20d6fab3e72">RI_RADIO_BLE_2MBPS</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">channel</td><td>Interface used for communicating through advertisements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success, </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>Channel is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if radio is not already initialized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Modulation used on the advertisement depends on how radio was initialized. </dd></dl>

</div>
</div>
<a id="a9053fcf126e5247c8542db1f414a7bbe" name="a9053fcf126e5247c8542db1f414a7bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9053fcf126e5247c8542db1f414a7bbe">&#9670;&#160;</a></span>ri_adv_manufacturer_id_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_manufacturer_id_set </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set manufacturer ID of manufacturer specific advertisement. </p>
<p>Will take effect on next send. Has no effect on already queued messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>ID of manufacturer, MSB first. E.g. 0x0499 for Ruuvi Innovations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03638010143c5f2e885d9e026ea14d3a" name="a03638010143c5f2e885d9e026ea14d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03638010143c5f2e885d9e026ea14d3a">&#9670;&#160;</a></span>ri_adv_parse_manuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ri_adv_parse_manuid </td>
          <td>(</td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>data_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse Manufacturer ID from given Bluetooth scan data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to data to parse </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_length</td><td>length of data to parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if argument is NULL of manufacturer ID not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BLE Manufacturer ID, e.g. 0x0499 for Ruuvi Innovation </dd></dl>

</div>
</div>
<a id="aebbd2339c2236ffcedf6536b1d35d824" name="aebbd2339c2236ffcedf6536b1d35d824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebbd2339c2236ffcedf6536b1d35d824">&#9670;&#160;</a></span>ri_adv_rx_ble_phy_enabled_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ri_adv_rx_ble_phy_enabled_set </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>is_le_1m_phy_enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>is_le_2m_phy_enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>is_le_coded_phy_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set BLE PHYs enabled or disabled for scanning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is_le_1m_phy_enabled</td><td>True if 1 MBit/s PHY is enabled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_le_2m_phy_enabled</td><td>True if 2 MBit/s PHY is enabled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_le_coded_phy_enabled</td><td>True if 125 kBit/s PHY is enabled. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a826533ac511aa63065441608af738c24" name="a826533ac511aa63065441608af738c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826533ac511aa63065441608af738c24">&#9670;&#160;</a></span>ri_adv_rx_set_max_advertisement_data_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ri_adv_rx_set_max_advertisement_data_length </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>max_adv_length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set maximum advertisement data length. This is used to limit the size of extended advertisement data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">max_adv_length</td><td>Maximum length of advertisement data. If zero, the maximum length is not checked and it is limited by macro RUUVI_COMM_BLE_ADV_SCAN_LENGTH. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97803f04f00d968446a25338c78e5308" name="a97803f04f00d968446a25338c78e5308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97803f04f00d968446a25338c78e5308">&#9670;&#160;</a></span>ri_adv_scan_response_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_scan_response_setup </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>advertise_nus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure advertising data with a scan response. </p>
<p>The scan response must be separately enabled by setting advertisement type as scannable. This setting has effect starting from the next time send is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name to advertise, NULL-terminated string. Max 27 characters if not advertising NUS, 10 characters if NUS is advertised. NULL won't be included in advertisement. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">advertise_nus</td><td>True to include Nordic UART Service UUID in scan response. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>if name is NULL </td></tr>
    <tr><td class="paramname">RD_ERROR_DATA_SIZE</td><td>if name will be cut. However the abbreviated name will be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f88bcd2ef238f1e2556fb91a36b5303" name="a1f88bcd2ef238f1e2556fb91a36b5303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f88bcd2ef238f1e2556fb91a36b5303">&#9670;&#160;</a></span>ri_adv_scan_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_scan_start </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>window_interval_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>window_size_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setup scan window interval and window size. </p>
<p>The scan window interval must be larger or equivalent to window size. Example: Interval 1000 ms, window size 100 ms. The scanning will scan 100 ms at channel 37, wait 900 ms, scan 100 ms at channel 38, wait 900 ms, scan 100 ms at channel 39. After scan has finished RI_COMM_TIMEOUT event is triggered if initialized channel has event handler.</p>
<p>Scan is started immediately after calling this function and ended once timeout occurs or <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aeac644966a1bd24a0ee17c2583187e25">ri_adv_scan_stop</a> is called.</p>
<p>Raw scan results are passed to given event handler as on_received events with <a class="el" href="structri__adv__scan__t.html">ri_adv_scan_t</a> as a parameter.</p>
<p>If the message contains Ruuvi-specific advertisement data, the payload is inserted into a <a class="el" href="structri__comm__message__t.html" title="Application message structure used for communication.">ri_comm_message_t</a> with repeat = 0 and it can be read via channel-&gt;read</p>
<p>This function is not suitable for establishing connections to peripherals, if central mode is supported in the future a separate connection initialization function is implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">window_interval_ms</td><td>interval of the windows. At most 10s. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">window_size_ms</td><td>window size within interval. Smaller or equal to interval. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RD_SUCCESS on success. </dd>
<dd>
RD_ERROR_INVALID_STATE If scan is ongoing or if trying to scan on other than 1 MBit / s PHY without extended advertising enabled. </dd>
<dd>
RD_ERROR_INVALID_PARAM if window is larger than interval or values are otherwise invalid. </dd></dl>

</div>
</div>
<a id="aeac644966a1bd24a0ee17c2583187e25" name="aeac644966a1bd24a0ee17c2583187e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac644966a1bd24a0ee17c2583187e25">&#9670;&#160;</a></span>ri_adv_scan_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_scan_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ongoing scanning. </p>
<p>If advertisement was configured on repeat, calling this function stops advertising before the repeat counter has been reached. This function can be safely called even if no advertising is ongoing.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>if no more advertisements are ongoing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad3d2950541ff894fc4fb0e69fee1f65" name="aad3d2950541ff894fc4fb0e69fee1f65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3d2950541ff894fc4fb0e69fee1f65">&#9670;&#160;</a></span>ri_adv_set_service_uuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ri_adv_set_service_uuid </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure Bluetooth GATT Service UUID to advertise in primary advertisement packet. </p>
<p>Bluetooth Service UUID lets scanner apps note that your firmware is providing a specific service over BLE GATT. Be sure to enable <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ae555741810745a894d9d8ddafb1dd0dd">ri_adv_enable_uuid</a>.</p>
<p>When enabled, the field takes 3 bytes of space in advertisement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>16-bit UUID to advertise, e.g. 0xFC98 for "Ruuvi Innovations Sensor Data" </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aafc90c62e5b7ceacbd4f116d191924bd" name="aafc90c62e5b7ceacbd4f116d191924bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc90c62e5b7ceacbd4f116d191924bd">&#9670;&#160;</a></span>ri_adv_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ongoing advertisements. </p>
<p>If advertisement was configured on repeat, calling this function stops advertising before the repeat counter has been reached. Any queued advertisements are cancelled. This function can be safely called even if no advertising is ongoing.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>if no more advertisements are ongoing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad984ccc177df02949f5af1c5ffd4b05" name="aad984ccc177df02949f5af1c5ffd4b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad984ccc177df02949f5af1c5ffd4b05">&#9670;&#160;</a></span>ri_adv_tx_interval_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_interval_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for broadcast advertisement interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ms</td><td>Milliseconds between transmission, without the random delay. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>If ms is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if advertisement module is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad840b509c98da4df1bbd60839377d4e0" name="ad840b509c98da4df1bbd60839377d4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad840b509c98da4df1bbd60839377d4e0">&#9670;&#160;</a></span>ri_adv_tx_interval_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_interval_set </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8dcea6cf666726dad06a67e9ddfd2aca" name="a8dcea6cf666726dad06a67e9ddfd2aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcea6cf666726dad06a67e9ddfd2aca">&#9670;&#160;</a></span>ri_adv_tx_power_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_power_get </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>dbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get radio TX power. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dbm</td><td>Radio power. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>if dbm is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if radio is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb60940b2398aedeec2a2d0ea8463677" name="adb60940b2398aedeec2a2d0ea8463677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb60940b2398aedeec2a2d0ea8463677">&#9670;&#160;</a></span>ri_adv_tx_power_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_power_set </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>dbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set radio TX power. </p>
<p>Takes effect on next call to send, messages already in send queue are not affected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dbm</td><td>Radio power. Supported values are board-dependent. Value is interpreted as "at least", power is set to smallest value which satisfies the desired level. Actual value is set to pointed parameter as an output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>if dbm is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if radio is not initialized. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_PARAM</td><td>if given power level is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3376345d0dd8981cd9b415d675f51d1" name="ad3376345d0dd8981cd9b415d675f51d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3376345d0dd8981cd9b415d675f51d1">&#9670;&#160;</a></span>ri_adv_type_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_type_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the type of advertisement. </p>
<p>Advertisement can be connectable, scannable, both or neither: <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a>. It is possible to setup scannable advertisement before setting up scan response, in this case scan response will be 0-length and empty until scan resonse if configured. If the advertisement has to be extended type, the implementation will automatically select extended advertisement.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if advertisements are not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad151b93560ab505cc6f9387ea0c729ee" name="ad151b93560ab505cc6f9387ea0c729ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad151b93560ab505cc6f9387ea0c729ee">&#9670;&#160;</a></span>ri_adv_uninit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_uninit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ee3f1a7951c308657a65f8199076c1d6.html">interfaces</a></li><li class="navelem"><a class="el" href="dir_2016479bd7cb546fd87fb6e3bcdb02c1.html">communication</a></li><li class="navelem"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html">ruuvi_interface_communication_ble_advertising.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
