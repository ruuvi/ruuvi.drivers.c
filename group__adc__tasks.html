<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ruuvi.drivers.c: ADC tasks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ruuvi.drivers.c<span id="projectnumber">&#160;${PROJECT_VERSION}</span>
   </div>
   <div id="projectbrief">Drivers for external sensors and peripherals on embedded systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__adc__tasks.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ADC tasks</div></div>
</div><!--header-->
<div class="contents">

<p>Internal Analog-to-digital converter control.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:ruuvi__task__adc_8c" id="r_ruuvi__task__adc_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__task__adc_8c.html">ruuvi_task_adc.c</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ruuvi__task__adc_8h" id="r_ruuvi__task__adc_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__task__adc_8h.html">ruuvi_task_adc.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5439776452b55b1c2fe7c86228513f6c" id="r_ga5439776452b55b1c2fe7c86228513f6c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga5439776452b55b1c2fe7c86228513f6c">rt_adc_mode_t</a> { <a class="el" href="group__adc__tasks.html#gga5439776452b55b1c2fe7c86228513f6cab7e95ded810bd44cd862c100fddacd5d">RATIOMETRIC</a>
, <a class="el" href="group__adc__tasks.html#gga5439776452b55b1c2fe7c86228513f6cac45fae60f994b1b3d5dd2556265f3415">ABSOLUTE</a>
 }</td></tr>
<tr class="separator:ga5439776452b55b1c2fe7c86228513f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga294f05381ed2e2b12015e9f6dd1581b6" id="r_ga294f05381ed2e2b12015e9f6dd1581b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga294f05381ed2e2b12015e9f6dd1581b6">rt_adc_init</a> (void)</td></tr>
<tr class="memdesc:ga294f05381ed2e2b12015e9f6dd1581b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve ADC.  <br /></td></tr>
<tr class="separator:ga294f05381ed2e2b12015e9f6dd1581b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e2446360fe3828f59496329595e847c" id="r_ga6e2446360fe3828f59496329595e847c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga6e2446360fe3828f59496329595e847c">rt_adc_uninit</a> (void)</td></tr>
<tr class="memdesc:ga6e2446360fe3828f59496329595e847c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninitialize ADC to release it for other users.  <br /></td></tr>
<tr class="separator:ga6e2446360fe3828f59496329595e847c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bef543f5bd481100310cc8e4332ac94" id="r_ga9bef543f5bd481100310cc8e4332ac94"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga9bef543f5bd481100310cc8e4332ac94">rt_adc_is_init</a> (void)</td></tr>
<tr class="memdesc:ga9bef543f5bd481100310cc8e4332ac94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if ADC is initialized.  <br /></td></tr>
<tr class="separator:ga9bef543f5bd481100310cc8e4332ac94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga220cd03e1cb4d655caf244d645fe24cb" id="r_ga220cd03e1cb4d655caf244d645fe24cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga220cd03e1cb4d655caf244d645fe24cb">rt_adc_configure_se</a> (<a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const config, const uint8_t handle, const <a class="el" href="group__adc__tasks.html#ga5439776452b55b1c2fe7c86228513f6c">rt_adc_mode_t</a> mode)</td></tr>
<tr class="memdesc:ga220cd03e1cb4d655caf244d645fe24cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure ADC before sampling.  <br /></td></tr>
<tr class="separator:ga220cd03e1cb4d655caf244d645fe24cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74753d7100835ef308174c74ee6ce7bc" id="r_ga74753d7100835ef308174c74ee6ce7bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga74753d7100835ef308174c74ee6ce7bc">rt_adc_sample</a> (void)</td></tr>
<tr class="memdesc:ga74753d7100835ef308174c74ee6ce7bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a new sample on ADC configured in single-shot/sleep mode.  <br /></td></tr>
<tr class="separator:ga74753d7100835ef308174c74ee6ce7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe0bcf05f3e017d0f54e7cf0cb0afec7" id="r_gabe0bcf05f3e017d0f54e7cf0cb0afec7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#gabe0bcf05f3e017d0f54e7cf0cb0afec7">rt_adc_voltage_get</a> (<a class="el" href="structrd__sensor__data__t.html">rd_sensor_data_t</a> *const data)</td></tr>
<tr class="memdesc:gabe0bcf05f3e017d0f54e7cf0cb0afec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate data with latest sample.  <br /></td></tr>
<tr class="separator:gabe0bcf05f3e017d0f54e7cf0cb0afec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c38e9b12e5ee0b7fd12631dd534512f" id="r_ga7c38e9b12e5ee0b7fd12631dd534512f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga7c38e9b12e5ee0b7fd12631dd534512f">rt_adc_ratio_get</a> (<a class="el" href="structrd__sensor__data__t.html">rd_sensor_data_t</a> *const data)</td></tr>
<tr class="memdesc:ga7c38e9b12e5ee0b7fd12631dd534512f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate data with latest ratiometric value.  <br /></td></tr>
<tr class="separator:ga7c38e9b12e5ee0b7fd12631dd534512f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6887c417a16ff15eef05aae3321d7630" id="r_ga6887c417a16ff15eef05aae3321d7630"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga6887c417a16ff15eef05aae3321d7630">rt_adc_vdd_prepare</a> (<a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const vdd_adc_configuration)</td></tr>
<tr class="memdesc:ga6887c417a16ff15eef05aae3321d7630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare for sampling VDD.  <br /></td></tr>
<tr class="separator:ga6887c417a16ff15eef05aae3321d7630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7fb8227fe40fd495817473ed72a2158" id="r_gaf7fb8227fe40fd495817473ed72a2158"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#gaf7fb8227fe40fd495817473ed72a2158">rt_adc_vdd_sample</a> (void)</td></tr>
<tr class="memdesc:gaf7fb8227fe40fd495817473ed72a2158"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample VDD.  <br /></td></tr>
<tr class="separator:gaf7fb8227fe40fd495817473ed72a2158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1850e8f80aec17a86aea4f75ba71f990" id="r_ga1850e8f80aec17a86aea4f75ba71f990"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga1850e8f80aec17a86aea4f75ba71f990">rt_adc_vdd_get</a> (float *const vdd)</td></tr>
<tr class="memdesc:ga1850e8f80aec17a86aea4f75ba71f990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get VDD.  <br /></td></tr>
<tr class="separator:ga1850e8f80aec17a86aea4f75ba71f990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ad8b81dd7c51f924b40275947b6c01c" id="r_ga5ad8b81dd7c51f924b40275947b6c01c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga5ad8b81dd7c51f924b40275947b6c01c">rt_adc_absolute_sample</a> (<a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const configuration, const uint8_t handle, float *const sample)</td></tr>
<tr class="memdesc:ga5ad8b81dd7c51f924b40275947b6c01c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get absolute Voltage Sample from selected ADC handle.  <br /></td></tr>
<tr class="separator:ga5ad8b81dd7c51f924b40275947b6c01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aee3827b03e82e18b5cc0a44adccd7c" id="r_ga6aee3827b03e82e18b5cc0a44adccd7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__tasks.html#ga6aee3827b03e82e18b5cc0a44adccd7c">rt_adc_ratiometric_sample</a> (<a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const configuration, const uint8_t handle, float *const sample)</td></tr>
<tr class="memdesc:ga6aee3827b03e82e18b5cc0a44adccd7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get ratiometric VDD Sample from selected ADC handle.  <br /></td></tr>
<tr class="separator:ga6aee3827b03e82e18b5cc0a44adccd7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Internal Analog-to-digital converter control. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5439776452b55b1c2fe7c86228513f6c" name="ga5439776452b55b1c2fe7c86228513f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5439776452b55b1c2fe7c86228513f6c">&#9670;&#160;</a></span>rt_adc_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__adc__tasks.html#ga5439776452b55b1c2fe7c86228513f6c">rt_adc_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5439776452b55b1c2fe7c86228513f6cab7e95ded810bd44cd862c100fddacd5d" name="gga5439776452b55b1c2fe7c86228513f6cab7e95ded810bd44cd862c100fddacd5d"></a>RATIOMETRIC&#160;</td><td class="fielddoc"><p>ADC compares value to VDD. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5439776452b55b1c2fe7c86228513f6cac45fae60f994b1b3d5dd2556265f3415" name="gga5439776452b55b1c2fe7c86228513f6cac45fae60f994b1b3d5dd2556265f3415"></a>ABSOLUTE&#160;</td><td class="fielddoc"><p>ADC measures absolute voltage in volts. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ruuvi__task__adc_8h_source.html#l00059">59</a> of file <a class="el" href="ruuvi__task__adc_8h_source.html">ruuvi_task_adc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5ad8b81dd7c51f924b40275947b6c01c" name="ga5ad8b81dd7c51f924b40275947b6c01c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ad8b81dd7c51f924b40275947b6c01c">&#9670;&#160;</a></span>rt_adc_absolute_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_absolute_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const&#160;</td>
          <td class="paramname"><em>configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *const&#160;</td>
          <td class="paramname"><em>sample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get absolute Voltage Sample from selected ADC handle. </p>
<p>This function initializes ADC, reads absolute voltage sample from selected handle. The parameter sample is absolute voltage relative to the device ground.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">configuration</td><td>Configuration of ADC. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to ADC, i.e. ADC pin. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sample</td><td>Pointer to a Voltage Sample. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">error</td><td>code from stack on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga220cd03e1cb4d655caf244d645fe24cb" name="ga220cd03e1cb4d655caf244d645fe24cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga220cd03e1cb4d655caf244d645fe24cb">&#9670;&#160;</a></span>rt_adc_configure_se()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_configure_se </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__adc__tasks.html#ga5439776452b55b1c2fe7c86228513f6c">rt_adc_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure ADC before sampling. </p>
<p>This function readies the ADC for sampling. Configuring the ADC may take some time (&lt; 1 ms) while actual sample must be as fast as possible to catch transients.</p>
<p><b>Note:</b> ADC should be configured to sleep or continuous mode. To take a single sample, call <a class="el" href="group__adc__tasks.html#ga74753d7100835ef308174c74ee6ce7bc">rt_adc_sample</a> after configuration. Configuring ADC into single sample mode is equivalent to calling <a class="el" href="group__adc__tasks.html#ga74753d7100835ef308174c74ee6ce7bc">rt_adc_sample</a> and configuring ADC into sleep immediately.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">config</td><td>Configuration of ADC. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to ADC, i.e. ADC pin. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>sampling mode, <a class="el" href="group__adc__tasks.html#ga5439776452b55b1c2fe7c86228513f6c">rt_adc_mode_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if ADC is not initialized or if it is already configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga294f05381ed2e2b12015e9f6dd1581b6" name="ga294f05381ed2e2b12015e9f6dd1581b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga294f05381ed2e2b12015e9f6dd1581b6">&#9670;&#160;</a></span>rt_adc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve ADC. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if ADC is already initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9bef543f5bd481100310cc8e4332ac94" name="ga9bef543f5bd481100310cc8e4332ac94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9bef543f5bd481100310cc8e4332ac94">&#9670;&#160;</a></span>rt_adc_is_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rt_adc_is_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if ADC is initialized. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if ADC is initialized. </td></tr>
    <tr><td class="paramname">false</td><td>if ADC is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7c38e9b12e5ee0b7fd12631dd534512f" name="ga7c38e9b12e5ee0b7fd12631dd534512f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c38e9b12e5ee0b7fd12631dd534512f">&#9670;&#160;</a></span>rt_adc_ratio_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_ratio_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrd__sensor__data__t.html">rd_sensor_data_t</a> *const&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Populate data with latest ratiometric value. </p>
<p>The data is ratio between 0.0 (gnd) and 1.0 (VDD). However the implementation is allowed to return negative values and values higher than 1.0 if the real voltage is beyond the supply rails or if differential sample is negative.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data which has a field for ratiometric ADC value </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if ADC is not initialized or configured. </td></tr>
    <tr><td class="paramname">error</td><td>code from stack on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6aee3827b03e82e18b5cc0a44adccd7c" name="ga6aee3827b03e82e18b5cc0a44adccd7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6aee3827b03e82e18b5cc0a44adccd7c">&#9670;&#160;</a></span>rt_adc_ratiometric_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_ratiometric_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const&#160;</td>
          <td class="paramname"><em>configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *const&#160;</td>
          <td class="paramname"><em>sample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get ratiometric VDD Sample from selected ADC handle. </p>
<p>This function initializes ADC, reads ratiometric voltage sample from selected handle. The parameter sample is a ration of voltage pin, relative to VDD, varying between 0.0 (GND) and 1.0 (VDD). Additionally the parameter sample could be outside limits as described in <a class="el" href="group__adc__tasks.html#ga7c38e9b12e5ee0b7fd12631dd534512f">rt_adc_ratio_get</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">configuration</td><td>Configuration of ADC. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to ADC, i.e. ADC pin. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sample</td><td>Pointer to a Voltage Sample. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">error</td><td>code from stack on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga74753d7100835ef308174c74ee6ce7bc" name="ga74753d7100835ef308174c74ee6ce7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74753d7100835ef308174c74ee6ce7bc">&#9670;&#160;</a></span>rt_adc_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_sample </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a new sample on ADC configured in single-shot/sleep mode. </p>
<p>If this function returns RD_SUCCESS new sample can be immediately read with rt_adc_voltage_get or rt_adc_ratio_get</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>Sampling was successful </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>ADC is not initialized or configured </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6e2446360fe3828f59496329595e847c" name="ga6e2446360fe3828f59496329595e847c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e2446360fe3828f59496329595e847c">&#9670;&#160;</a></span>rt_adc_uninit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_uninit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uninitialize ADC to release it for other users. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_FATAL</td><td>if ADC lock can't be released. Reboot. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1850e8f80aec17a86aea4f75ba71f990" name="ga1850e8f80aec17a86aea4f75ba71f990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1850e8f80aec17a86aea4f75ba71f990">&#9670;&#160;</a></span>rt_adc_vdd_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_vdd_get </td>
          <td>(</td>
          <td class="paramtype">float *const&#160;</td>
          <td class="paramname"><em>vdd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get VDD. </p>
<p>This function should be called any time after <a class="el" href="group__adc__tasks.html#gaf7fb8227fe40fd495817473ed72a2158">rt_adc_vdd_sample</a>. The value returned will remain fixed until next call to <a class="el" href="group__adc__tasks.html#gaf7fb8227fe40fd495817473ed72a2158">rt_adc_vdd_sample</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">vdd</td><td>VDD voltage in volts. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if rt_adc_vdd_sample wasn't called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6887c417a16ff15eef05aae3321d7630" name="ga6887c417a16ff15eef05aae3321d7630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6887c417a16ff15eef05aae3321d7630">&#9670;&#160;</a></span>rt_adc_vdd_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_vdd_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrd__sensor__configuration__t.html">rd_sensor_configuration_t</a> *const&#160;</td>
          <td class="paramname"><em>vdd_adc_configuration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare for sampling VDD. </p>
<p>This function should be called before entering energy intensive activity, such as using radio to transmit data. After calling this function ADC is primed for measuring the voltage droop of battery. On ADC configuration error, uninitialize ADC.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if ADC is already initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf7fb8227fe40fd495817473ed72a2158" name="gaf7fb8227fe40fd495817473ed72a2158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7fb8227fe40fd495817473ed72a2158">&#9670;&#160;</a></span>rt_adc_vdd_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_vdd_sample </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sample VDD. </p>
<p>This function should be called as soon as possible after energy intensive activity. After a successful call value returned by <a class="el" href="group__adc__tasks.html#ga1850e8f80aec17a86aea4f75ba71f990">rt_adc_vdd_get</a> is updated and ADC is released.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if rt_adc_vdd_prepare wasn't called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabe0bcf05f3e017d0f54e7cf0cb0afec7" name="gabe0bcf05f3e017d0f54e7cf0cb0afec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe0bcf05f3e017d0f54e7cf0cb0afec7">&#9670;&#160;</a></span>rt_adc_voltage_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> rt_adc_voltage_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrd__sensor__data__t.html">rd_sensor_data_t</a> *const&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Populate data with latest sample. </p>
<p>The data is absolute voltage relative to device ground.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data which has a field for absolute ADC value </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if ADC is not initialized or configured. </td></tr>
    <tr><td class="paramname">error</td><td>code from stack on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
